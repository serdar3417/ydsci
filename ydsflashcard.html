<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YDS Kelime Kartlarƒ± 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4f46e5;
            --secondary-color: #10b981;
            --accent-color: #ec4899;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            transition: background 0.3s, color 0.3s;
        }
        
        .theme-default {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --primary-color: #4f46e5;
            --secondary-color: #10b981;
            --accent-color: #ec4899;
        }
        
        .theme-dark {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            --primary-color: #8b5cf6;
            --secondary-color: #10b981;
            --accent-color: #f59e0b;
            color: #f1f5f9;
        }
        
        .theme-nature {
            background: linear-gradient(135deg, #10b981 0%, #047857 100%);
            --primary-color: #059669;
            --secondary-color: #f59e0b;
            --accent-color: #3b82f6;
        }
        
        .theme-ocean {
            background: linear-gradient(135deg, #0ea5e9 0%, #1d4ed8 100%);
            --primary-color: #3b82f6;
            --secondary-color: #06b6d4;
            --accent-color: #8b5cf6;
        }
        
        .theme-sunset {
            background: linear-gradient(135deg, #f97316 0%, #db2777 100%);
            --primary-color: #f59e0b;
            --secondary-color: #ec4899;
            --accent-color: #8b5cf6;
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .theme-dark .glass-card {
            background: rgba(30, 41, 59, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #f1f5f9;
        }
        
        .flashcard {
            perspective: 1000px;
            height: 400px;
        }
        
        .flashcard-inner {
            transition: transform 0.8s;
            transform-style: preserve-3d;
            position: relative;
            width: 100%;
            height: 100%;
        }
        
        .is-flipped {
            transform: rotateY(180deg);
        }
        
        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 24px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
        }
        
        .flashcard-back {
            transform: rotateY(180deg);
            background: linear-gradient(135deg, var(--primary-color) 0%, #7c3aed 100%);
            color: white;
        }
        
        .theme-dark .flashcard-back {
            background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
        }
        
        .countdown-box {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.9) 0%, rgba(220, 38, 38, 0.9) 100%);
            color: white;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .level-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: linear-gradient(135deg, var(--secondary-color) 0%, #059669 100%);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: bold;
        }
        
        .action-btn {
            transition: all 0.2s ease;
        }
        
        .action-btn:active {
            transform: scale(0.95);
        }
        
        /* GELƒ∞≈ûTƒ∞Rƒ∞LMƒ∞≈û BUTON STƒ∞LLERƒ∞ */
        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color) 0%, #7c3aed 100%);
            color: white;
            font-weight: 600;
            border: none;
        }
        
        .btn-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            font-weight: 600;
            border: none;
        }
        
        .btn-info {
            background: linear-gradient(135deg, #0ea5e9 0%, #1d4ed8 100%);
            color: white;
            font-weight: 600;
            border: none;
        }
        
        .btn-warning {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            font-weight: 600;
            border: none;
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            font-weight: 600;
            border: none;
        }
        
        .btn-purple {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            color: white;
            font-weight: 600;
            border: none;
        }
        
        .difficulty-tag {
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: bold;
        }
        
        .easy-tag {
            background-color: #d1fae5;
            color: #065f46;
        }
        
        .medium-tag {
            background-color: #fef3c7;
            color: #92400e;
        }
        
        .hard-tag {
            background-color: #fee2e2;
            color: #991b1b;
        }
        
        .synonym-tag {
            background-color: #dbeafe;
            color: #1e40af;
        }
        
        .antonym-tag {
            background-color: #fce7f3;
            color: #9d174d;
        }
        
        .example-box {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1rem;
            margin: 0.5rem 0;
        }
        
        .paragraph-box {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            padding: 1rem;
            margin: 0.5rem 0;
        }
        
        .highlight-word {
            background-color: rgba(255, 255, 255, 0.2);
            padding: 0.1rem 0.3rem;
            border-radius: 4px;
            cursor: help;
            border-bottom: 2px dashed currentColor;
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            text-align: center;
            padding: 0.5rem;
            border-radius: 6px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
            font-size: 0.75rem;
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
        }
        
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        
        .font-size-controls {
            position: fixed;
            bottom: 5rem;
            right: 1rem;
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .theme-selector {
            position: fixed;
            bottom: 5rem;
            left: 1rem;
            z-index: 100;
        }
        
        .floating-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            background: white;
            color: #333;
            border: 2px solid #e5e7eb;
        }
        
        .theme-dark .floating-btn {
            background: #374151;
            color: white;
            border: 2px solid #4b5563;
        }
        
        .competitor-card {
            transition: all 0.3s ease;
            border-width: 2px;
        }
        
        .competitor-card:hover {
            transform: translateY(-5px);
        }
        
        .user-card {
            border-color: var(--primary-color);
            background: rgba(79, 70, 229, 0.1);
        }
        
        .competitor-rank-1 {
            border-color: #f59e0b;
            background: rgba(245, 158, 11, 0.1);
        }
        
        .competitor-rank-2 {
            border-color: #94a3b8;
            background: rgba(148, 163, 184, 0.1);
        }
        
        .competitor-rank-3 {
            border-color: #f97316;
            background: rgba(249, 115, 22, 0.1);
        }
        
        .voice-btn {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
        }
        
        .voice-btn:hover {
            transform: scale(1.1);
        }
        
        .notification {
            position: fixed;
            top: 1rem;
            right: 1rem;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            z-index: 1000;
            animation: slideIn 0.3s ease-out;
            color: white;
            font-weight: 600;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        .star-btn {
            color: #fbbf24;
            transition: all 0.3s ease;
        }
        
        .star-btn.active {
            color: #f59e0b;
            transform: scale(1.2);
            text-shadow: 0 0 10px rgba(245, 158, 11, 0.5);
        }
        
        .priority-badge {
            background: linear-gradient(135deg, #fbbf24 0%, #d97706 100%);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 9999px;
            font-size: 0.7rem;
            font-weight: bold;
        }
        
        .priority-mode {
            border: 3px solid #fbbf24;
            box-shadow: 0 0 20px rgba(245, 158, 11, 0.3);
        }
        
        /* MOBƒ∞L UYUMLU BUTON BOYUTLARI */
        @media (max-width: 640px) {
            .btn-mobile {
                padding: 0.75rem 1rem;
                font-size: 0.875rem;
            }
            
            .flashcard {
                height: 350px;
            }
            
            .grid-cols-mobile {
                grid-template-columns: repeat(2, 1fr) !important;
            }
        }
        
        .text-contrast {
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
    </style>
</head>
<body class="theme-default min-h-screen p-4 transition-all duration-300">
    <!-- Font Boyutu Kontrolleri -->
    <div class="font-size-controls">
        <button id="decrease-font" class="floating-btn">
            <i class="fas fa-minus"></i>
        </button>
        <button id="increase-font" class="floating-btn">
            <i class="fas fa-plus"></i>
        </button>
        <button id="speak-current-word" class="floating-btn voice-btn">
            <i class="fas fa-volume-up"></i>
        </button>
    </div>
    
    <!-- Tema Se√ßici -->
    <div class="theme-selector">
        <button id="theme-toggle" class="floating-btn">
            <i class="fas fa-palette"></i>
        </button>
    </div>

    <div id="app" class="max-w-4xl mx-auto">
        <!-- Ba≈ülƒ±k ve Geri Sayƒ±m -->
        <header class="glass-card rounded-3xl p-6 mb-6">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4">
                <div>
                    <h1 class="text-3xl font-bold text-gray-800 dark:text-white text-contrast" id="app-title">YDS Kelime Kartlarƒ± 2026</h1>
                    <p class="text-gray-600 dark:text-gray-300 text-contrast" id="app-subtitle">Hedef YDS Tarihi: <span id="exam-date-display" class="font-bold">2026-03-15</span></p>
                </div>
                
                <!-- Geri Sayƒ±m -->
                <div class="countdown-box rounded-2xl p-4 text-center min-w-[250px]">
                    <div class="text-sm font-semibold mb-2">YDS SINAVINA KALAN S√úRE</div>
                    <div class="flex justify-center gap-3">
                        <div class="text-center">
                            <div id="countdown-days" class="text-3xl font-bold">00</div>
                            <div class="text-sm">G√úN</div>
                        </div>
                        <div class="text-center">
                            <div id="countdown-hours" class="text-3xl font-bold">00</div>
                            <div class="text-sm">SAAT</div>
                        </div>
                        <div class="text-center">
                            <div id="countdown-minutes" class="text-3xl font-bold">00</div>
                            <div class="text-sm">DAKƒ∞KA</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ƒ∞statistikler -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="text-center p-4 bg-purple-50 dark:bg-purple-900/30 rounded-2xl">
                    <div id="total-words" class="text-2xl font-bold text-purple-600 dark:text-purple-300">0</div>
                    <div class="text-sm text-gray-600 dark:text-gray-300">Toplam Kelime</div>
                </div>
                <div class="text-center p-4 bg-green-50 dark:bg-green-900/30 rounded-2xl">
                    <div id="learned-words" class="text-2xl font-bold text-green-600 dark:text-green-300">0</div>
                    <div class="text-sm text-gray-600 dark:text-gray-300">√ñƒürenilen</div>
                </div>
                <div class="text-center p-4 bg-blue-50 dark:bg-blue-900/30 rounded-2xl">
                    <div id="user-points" class="text-2xl font-bold text-blue-600 dark:text-blue-300">0</div>
                    <div class="text-sm text-gray-600 dark:text-gray-300">Puan</div>
                </div>
                <div class="text-center p-4 bg-yellow-50 dark:bg-yellow-900/30 rounded-2xl">
                    <div id="user-level" class="text-2xl font-bold text-yellow-600 dark:text-yellow-300">1</div>
                    <div class="text-sm text-gray-600 dark:text-gray-300">Seviye</div>
                </div>
            </div>
        </header>

        <!-- Ana ƒ∞√ßerik -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- Sol Kolon: Flashcard ve Kontroller -->
            <div class="lg:col-span-2">
                <div id="flashcard-container" class="glass-card rounded-3xl p-6 mb-6">
                    <!-- Flashcard -->
                    <div id="flashcard" class="flashcard mb-8 cursor-pointer">
                        <div class="flashcard-inner">
                            <!-- √ñn Y√ºz -->
                            <div class="flashcard-front glass-card dark:bg-slate-800/95">
                                <div class="level-badge" id="current-level">Intermediate</div>
                                <div class="text-center">
                                    <div id="word-image" class="w-32 h-32 rounded-2xl mb-4 mx-auto bg-gray-100 dark:bg-slate-700 flex items-center justify-center">
                                        <i class="fas fa-image text-4xl text-gray-300 dark:text-slate-500"></i>
                                    </div>
                                    <h2 id="english-word" class="text-4xl font-bold text-gray-800 dark:text-white mb-2 text-contrast">Loading...</h2>
                                    <div id="phonetic" class="text-gray-600 dark:text-gray-300 mb-4">/l…ô äd…™≈ã/</div>
                                    <div class="text-gray-500 dark:text-gray-400">Kartƒ± √ßevirmek i√ßin tƒ±klayƒ±n ‚Üí</div>
                                </div>
                            </div>
                            
                            <!-- Arka Y√ºz -->
                            <div class="flashcard-back">
                                <div class="text-center">
                                    <h2 id="turkish-meaning" class="text-4xl font-bold text-white mb-4">Y√ºkleniyor...</h2>
                                    <div id="word-type" class="text-white/80 mb-6">ƒ∞sim</div>
                                    <div id="quick-info" class="text-white/90 mb-4"></div>
                                    <div class="text-white/70 text-sm">Tekrar √∂n y√ºze d√∂nmek i√ßin tƒ±klayƒ±n</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Kontrol Butonlarƒ± -->
                    <div class="flex flex-wrap justify-center gap-3 mb-6">
                        <button id="mark-learned" class="action-btn btn-success px-6 py-3 rounded-xl font-semibold flex items-center gap-2 btn-mobile">
                            <i class="fas fa-check"></i> √ñƒürendim (+50 Puan)
                        </button>
                        <button id="next-card" class="action-btn btn-primary px-6 py-3 rounded-xl font-semibold flex items-center gap-2 btn-mobile">
                            <i class="fas fa-arrow-right"></i> Sonraki Kelime
                        </button>
                        <button id="speak-english" class="action-btn btn-info px-6 py-3 rounded-xl font-semibold flex items-center gap-2 btn-mobile">
                            <i class="fas fa-volume-up"></i> ƒ∞ngilizce Oku
                        </button>
                    </div>
                    
                    <!-- √ñncelik Modu -->
                    <div class="flex items-center justify-center gap-2 mb-6">
                        <label class="flex items-center gap-2 bg-yellow-50 dark:bg-yellow-900/30 px-4 py-2 rounded-xl cursor-pointer">
                            <input type="checkbox" id="priority-mode" class="w-4 h-4">
                            <span class="text-sm font-semibold text-yellow-700 dark:text-yellow-300">
                                <i class="fas fa-star"></i> √ñncelikli Kelimeleri G√∂ster
                            </span>
                        </label>
                        <span id="priority-count" class="priority-badge">0</span>
                    </div>
                    
                    <!-- Detaylar B√∂l√ºm√º -->
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-3 mb-6 grid-cols-mobile">
                        <button id="show-synonyms" class="action-btn btn-info px-4 py-3 rounded-xl font-semibold text-sm">
                            <i class="fas fa-sync-alt mr-1"></i> E≈ü Anlamlƒ±lar
                        </button>
                        <button id="show-antonyms" class="action-btn btn-warning px-4 py-3 rounded-xl font-semibold text-sm">
                            <i class="fas fa-exchange-alt mr-1"></i> Zƒ±t Anlamlƒ±lar
                        </button>
                        <button id="show-example" class="action-btn btn-success px-4 py-3 rounded-xl font-semibold text-sm">
                            <i class="fas fa-comment-alt mr-1"></i> √ñrnek C√ºmle
                        </button>
                        <button id="show-easy-paragraph" class="action-btn btn-success px-4 py-3 rounded-xl font-semibold text-sm">
                            <i class="fas fa-paragraph mr-1"></i> Kolay Paragraf
                        </button>
                        <button id="show-medium-paragraph" class="action-btn btn-warning px-4 py-3 rounded-xl font-semibold text-sm">
                            <i class="fas fa-paragraph mr-1"></i> Orta Paragraf
                        </button>
                        <button id="show-hard-paragraph" class="action-btn btn-danger px-4 py-3 rounded-xl font-semibold text-sm">
                            <i class="fas fa-paragraph mr-1"></i> Zor Paragraf
                        </button>
                    </div>
                    
                    <!-- ƒ∞√ßerik G√∂sterim Alanƒ± -->
                    <div id="content-display" class="content-card glass-card dark:bg-slate-800/95 rounded-2xl p-6 hidden">
                        <div class="flex justify-between items-center mb-4">
                            <h3 id="content-title" class="text-lg font-bold text-gray-800 dark:text-white text-contrast"></h3>
                            <button id="close-content" class="text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div id="content-body" class="text-gray-800 dark:text-gray-200"></div>
                    </div>
                </div>
                
                <!-- Kelime Y√∂netimi -->
                <div class="glass-card rounded-3xl p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-bold text-gray-800 dark:text-white text-contrast">Kelime Y√∂netimi</h3>
                        <div class="flex gap-2">
                            <button id="sort-alphabetical" class="action-btn btn-purple px-3 py-1 rounded-lg text-sm">
                                <i class="fas fa-sort-alpha-down"></i> A-Z
                            </button>
                            <button id="sort-priority" class="action-btn btn-warning px-3 py-1 rounded-lg text-sm">
                                <i class="fas fa-star"></i> √ñncelik
                            </button>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mb-6">
                        <button id="add-word-btn" class="action-btn btn-success py-3 rounded-xl font-semibold flex items-center justify-center gap-2">
                            <i class="fas fa-plus"></i> Yeni Kelime
                        </button>
                        <button id="export-json-btn" class="action-btn btn-info py-3 rounded-xl font-semibold flex items-center justify-center gap-2">
                            <i class="fas fa-download"></i> JSON Aktar
                        </button>
                        <label class="action-btn btn-primary py-3 rounded-xl font-semibold flex items-center justify-center gap-2 cursor-pointer">
                            <i class="fas fa-upload"></i> JSON Y√ºkle
                            <input type="file" id="json-file-input" class="hidden" accept=".json">
                        </label>
                    </div>
                    
                    <!-- Kelime Listesi -->
                    <div class="max-h-64 overflow-y-auto scrollbar-hide">
                        <table class="w-full">
                            <thead>
                                <tr class="border-b dark:border-gray-700">
                                    <th class="text-left py-2 text-sm text-gray-700 dark:text-gray-300 font-bold">ƒ∞ngilizce</th>
                                    <th class="text-left py-2 text-sm text-gray-700 dark:text-gray-300 font-bold">T√ºrk√ße</th>
                                    <th class="text-left py-2 text-sm text-gray-700 dark:text-gray-300 font-bold">ƒ∞≈ülem</th>
                                </tr>
                            </thead>
                            <tbody id="word-list">
                                <!-- Kelimeler buraya eklenecek -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- Saƒü Kolon: Rekabet ve Ayarlar -->
            <div class="space-y-6">
                <!-- YDS Tarihi Ayarlarƒ± -->
                <div class="glass-card rounded-3xl p-6">
                    <h3 class="text-lg font-bold text-gray-800 dark:text-white text-contrast mb-4">YDS Tarihi</h3>
                    <div class="space-y-3">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">Sƒ±nav Tarihi</label>
                            <input type="date" id="exam-date-input" class="w-full p-3 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-xl text-gray-800 dark:text-white">
                        </div>
                        <button id="save-exam-date" class="w-full btn-danger py-3 rounded-xl font-semibold">
                            <i class="fas fa-calendar-check mr-2"></i> Tarihi Kaydet
                        </button>
                    </div>
                </div>
                
                <!-- Rekabet Liderliƒüi -->
                <div class="glass-card rounded-3xl p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-bold text-gray-800 dark:text-white text-contrast">YDS Rekabeti</h3>
                        <button id="add-competitor-btn" class="text-sm btn-success px-3 py-1 rounded-lg">
                            <i class="fas fa-user-plus mr-1"></i> Rakipler
                        </button>
                    </div>
                    
                    <div class="space-y-3" id="competitors-list">
                        <!-- Rakip kartlarƒ± buraya eklenecek -->
                    </div>
                </div>
                
                <!-- Tema Se√ßimi -->
                <div class="glass-card rounded-3xl p-6">
                    <h3 class="text-lg font-bold text-gray-800 dark:text-white text-contrast mb-4">Temalar</h3>
                    <div class="grid grid-cols-2 gap-3">
                        <button data-theme="default" class="theme-option p-4 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 text-white font-semibold text-contrast">
                            <i class="fas fa-palette mr-1"></i> Varsayƒ±lan
                        </button>
                        <button data-theme="dark" class="theme-option p-4 rounded-xl bg-gradient-to-br from-slate-800 to-slate-900 text-white font-semibold text-contrast">
                            <i class="fas fa-moon mr-1"></i> Koyu Mod
                        </button>
                        <button data-theme="nature" class="theme-option p-4 rounded-xl bg-gradient-to-br from-green-500 to-emerald-700 text-white font-semibold text-contrast">
                            <i class="fas fa-leaf mr-1"></i> Doƒüa
                        </button>
                        <button data-theme="ocean" class="theme-option p-4 rounded-xl bg-gradient-to-br from-blue-500 to-blue-700 text-white font-semibold text-contrast">
                            <i class="fas fa-water mr-1"></i> Okyanus
                        </button>
                        <button data-theme="sunset" class="theme-option p-4 rounded-xl bg-gradient-to-br from-orange-500 to-pink-600 text-white font-semibold text-contrast">
                            <i class="fas fa-sun mr-1"></i> G√ºn Batƒ±mƒ±
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modallar -->
    
    <!-- Kelime Ekleme/D√ºzenleme Modalƒ± -->
    <div id="word-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50">
        <div class="glass-card dark:bg-slate-800 rounded-3xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-gray-800 dark:text-white text-contrast" id="modal-title">Yeni Kelime Ekle</h3>
                <button id="close-modal" class="text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white">
                    <i class="fas fa-times text-2xl"></i>
                </button>
            </div>
            
            <div class="space-y-4">
                <!-- Temel Bilgiler -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">ƒ∞ngilizce Kelime *</label>
                        <input type="text" id="word-en" class="w-full p-3 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-xl text-gray-800 dark:text-white" required>
                    </div>
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">T√ºrk√ße Anlamƒ± *</label>
                        <input type="text" id="word-tr" class="w-full p-3 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-xl text-gray-800 dark:text-white" required>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">Kelime T√ºr√º</label>
                        <select id="word-type-select" class="w-full p-3 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-xl text-gray-800 dark:text-white">
                            <option value="Noun">ƒ∞sim</option>
                            <option value="Verb">Fiil</option>
                            <option value="Adjective">Sƒ±fat</option>
                            <option value="Adverb">Zarf</option>
                            <option value="Phrase">Deyim</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">Zorluk Seviyesi</label>
                        <select id="word-level-select" class="w-full p-3 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-xl text-gray-800 dark:text-white">
                            <option value="Easy">Kolay</option>
                            <option value="Intermediate">Orta</option>
                            <option value="Advanced">Zor</option>
                        </select>
                    </div>
                </div>
                
                <!-- √ñncelik -->
                <div>
                    <label class="flex items-center gap-2">
                        <input type="checkbox" id="word-priority" class="w-4 h-4">
                        <span class="text-sm font-semibold text-yellow-600 dark:text-yellow-400">
                            <i class="fas fa-star"></i> √ñncelikli kelime olarak i≈üaretle
                        </span>
                    </label>
                </div>
                
                <!-- Resim Y√ºkleme -->
                <div>
                    <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">Kelime Resmi (Opsiyonel)</label>
                    <div class="border-2 border-dashed border-gray-300 dark:border-slate-600 rounded-xl p-6 text-center cursor-pointer hover:border-purple-400 transition-colors" 
                         onclick="document.getElementById('image-upload').click()">
                        <i class="fas fa-cloud-upload-alt text-3xl text-gray-400 dark:text-slate-500 mb-2"></i>
                        <div class="text-gray-600 dark:text-gray-400">Resim y√ºklemek i√ßin tƒ±klayƒ±n</div>
                        <div class="text-sm text-gray-500 dark:text-gray-500 mt-1">PNG, JPG, GIF (Max 2MB)</div>
                        <input type="file" id="image-upload" class="hidden" accept="image/*">
                    </div>
                    <div id="image-preview" class="mt-4 hidden">
                        <img id="preview-image" class="w-32 h-32 rounded-xl object-cover">
                    </div>
                </div>
                
                <!-- E≈ü Anlamlƒ±lar -->
                <div>
                    <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">E≈ü Anlamlƒ±lar (Virg√ºlle ayƒ±rƒ±n)</label>
                    <input type="text" id="word-synonyms" class="w-full p-3 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-xl text-gray-800 dark:text-white" placeholder="√ñrnek: analyze, examine, study">
                </div>
                
                <!-- Zƒ±t Anlamlƒ±lar -->
                <div>
                    <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">Zƒ±t Anlamlƒ±lar (Virg√ºlle ayƒ±rƒ±n)</label>
                    <input type="text" id="word-antonyms" class="w-full p-3 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-xl text-gray-800 dark:text-white" placeholder="√ñrnek: combine, synthesize">
                </div>
                
                <!-- √ñrnek C√ºmle -->
                <div>
                    <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">√ñrnek C√ºmle</label>
                    <textarea id="word-example" class="w-full p-3 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-xl h-24 text-gray-800 dark:text-white" placeholder="√ñrnek: We need to analyze the data carefully."></textarea>
                </div>
                
                <!-- Paragraflar -->
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">Kolay Paragraf</label>
                        <textarea id="easy-paragraph" class="w-full p-3 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-xl h-32 text-gray-800 dark:text-white" 
                                  placeholder="Kelimelerin basit c√ºmlelerle kullanƒ±ldƒ±ƒüƒ± kƒ±sa paragraf..."></textarea>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">Orta Paragraf</label>
                        <textarea id="medium-paragraph" class="w-full p-3 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-xl h-32 text-gray-800 dark:text-white" 
                                  placeholder="Kelimelerin orta d√ºzey c√ºmlelerle kullanƒ±ldƒ±ƒüƒ± paragraf..."></textarea>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">Zor Paragraf</label>
                        <textarea id="hard-paragraph" class="w-full p-3 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-xl h-32 text-gray-800 dark:text-white" 
                                  placeholder="Kelimelerin akademik ve kompleks c√ºmlelerle kullanƒ±ldƒ±ƒüƒ± paragraf..."></textarea>
                    </div>
                </div>
                
                <!-- Kaydet Butonu -->
                <div class="pt-4">
                    <button id="save-word-btn" class="w-full btn-primary py-4 rounded-xl font-bold text-lg">
                        <i class="fas fa-save mr-2"></i> Kelimeyi Kaydet
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Rakip Ekleme Modalƒ± -->
    <div id="competitor-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50">
        <div class="glass-card dark:bg-slate-800 rounded-3xl p-6 max-w-md w-full">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold text-gray-800 dark:text-white text-contrast">Yeni Rakip Ekle</h3>
                <button id="close-competitor-modal" class="text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white">
                    <i class="fas fa-times text-2xl"></i>
                </button>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">Rakip ƒ∞smi</label>
                    <input type="text" id="competitor-name" class="w-full p-3 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-xl text-gray-800 dark:text-white" placeholder="√ñrn: Mehmet Yƒ±lmaz">
                </div>
                
                <div>
                    <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">Ba≈ülangƒ±√ß Puanƒ±</label>
                    <input type="number" id="competitor-points" class="w-full p-3 bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-xl text-gray-800 dark:text-white" value="1000">
                </div>
                
                <div>
                    <label class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">Profil Resmi (Opsiyonel)</label>
                    <div class="border-2 border-dashed border-gray-300 dark:border-slate-600 rounded-xl p-4 text-center cursor-pointer" 
                         onclick="document.getElementById('competitor-image-upload').click()">
                        <i class="fas fa-user-circle text-3xl text-gray-400 dark:text-slate-500 mb-2"></i>
                        <div class="text-gray-600 dark:text-gray-400">Profil resmi y√ºkleyin</div>
                        <input type="file" id="competitor-image-upload" class="hidden" accept="image/*">
                    </div>
                </div>
                
                <div class="pt-4">
                    <button id="save-competitor-btn" class="w-full btn-success py-4 rounded-xl font-bold text-lg">
                        <i class="fas fa-user-plus mr-2"></i> Rakibi Ekle
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ba≈ülangƒ±√ß verileri
        let vocabulary = [
            {
                id: 1,
                en: "Analysis",
                tr: "Analiz",
                type: "Noun",
                level: "Intermediate",
                synonyms: ["examination", "study", "investigation"],
                antonyms: ["synthesis", "combination"],
                example: "The analysis of the data took several weeks to complete.",
                image: "",
                learned: false,
                priority: true, // √ñncelikli kelime
                points: 0,
                easyParagraph: "Analysis means looking at something carefully. For example, when we do homework analysis (analiz), we check our answers. Simple analysis helps us learn better.",
                mediumParagraph: "Statistical analysis (analiz) involves examining data to find patterns. In research analysis, scientists review their findings carefully. Proper analysis leads to better conclusions.",
                hardParagraph: "Comprehensive data analysis (analiz) requires sophisticated methodologies (y√∂ntemler) and rigorous scrutiny (inceleme). The multifaceted (√ßok y√∂nl√º) analysis conducted by the research team yielded groundbreaking (√ßƒ±ƒüƒ±r a√ßan) insights into the complex interplay (etkile≈üim) of variables, fundamentally altering our understanding of the phenomenon (olgusal).",
                paragraphWords: {
                    "methodologies": "y√∂ntemler",
                    "scrutiny": "inceleme",
                    "multifaceted": "√ßok y√∂nl√º",
                    "groundbreaking": "√ßƒ±ƒüƒ±r a√ßan",
                    "interplay": "etkile≈üim",
                    "phenomenon": "olgusal"
                }
            },
            {
                id: 2,
                en: "Significant",
                tr: "√ñnemli",
                type: "Adjective",
                level: "Intermediate",
                synonyms: ["important", "notable", "considerable"],
                antonyms: ["insignificant", "trivial", "minor"],
                example: "There was a significant improvement in test scores.",
                image: "",
                learned: true,
                priority: false,
                points: 50,
                easyParagraph: "This is a significant (√∂nemli) day because it's my birthday. Getting good grades is significant for students.",
                mediumParagraph: "The discovery had significant (√∂nemli) implications for future research. Significant changes in policy often require careful consideration.",
                hardParagraph: "The ostensibly (g√∂r√ºn√º≈üte) negligible (√∂nemsiz) fluctuations (dalgalanmalar) manifested significant (√∂nemli) repercussions (etkiler) on the macroeconomic equilibrium (denge), thereby necessitating a comprehensive reassessment of fiscal (mali) policies by the governing authorities.",
                paragraphWords: {
                    "ostensibly": "g√∂r√ºn√º≈üte",
                    "negligible": "√∂nemsiz",
                    "fluctuations": "dalgalanmalar",
                    "repercussions": "etkiler",
                    "equilibrium": "denge",
                    "fiscal": "mali"
                }
            }
        ];

        // Sanal rakipler
        let competitors = [
            {
                id: 1,
                name: "Ahmet Kaya",
                points: 1850,
                level: 2,
                isVirtual: true,
                avatar: "üë®‚Äçüéì",
                lastActive: "2 saat √∂nce"
            },
            {
                id: 2,
                name: "Zeynep Demir",
                points: 2450,
                level: 3,
                isVirtual: true,
                avatar: "üë©‚Äçüíº",
                lastActive: "1 g√ºn √∂nce"
            },
            {
                id: 3,
                name: "Mehmet Yƒ±lmaz",
                points: 1200,
                level: 2,
                isVirtual: true,
                avatar: "üßë‚Äçüî¨",
                lastActive: "4 saat √∂nce"
            }
        ];

        // Kullanƒ±cƒ± durumu
        let userState = {
            id: 0,
            name: "Siz",
            points: 100,
            level: 1,
            totalWords: 0,
            learnedWords: 0,
            currentWordIndex: 0,
            editingWordId: null,
            examDate: "2026-03-15",
            theme: "default",
            fontSize: 16,
            sortOrder: "alphabetical", // "alphabetical" veya "priority"
            priorityMode: false // √ñncelik modu aktif mi?
        };

        // DOM Elementleri
        const elements = {
            // Ana elementler
            app: document.getElementById('app'),
            appTitle: document.getElementById('app-title'),
            appSubtitle: document.getElementById('app-subtitle'),
            
            // Flashcard
            flashcard: document.getElementById('flashcard'),
            flashcardContainer: document.getElementById('flashcard-container'),
            englishWord: document.getElementById('english-word'),
            turkishMeaning: document.getElementById('turkish-meaning'),
            wordImage: document.getElementById('word-image'),
            wordType: document.getElementById('word-type'),
            currentLevel: document.getElementById('current-level'),
            phonetic: document.getElementById('phonetic'),
            quickInfo: document.getElementById('quick-info'),
            
            // Kontrol butonlarƒ±
            markLearned: document.getElementById('mark-learned'),
            nextCard: document.getElementById('next-card'),
            speakEnglish: document.getElementById('speak-english'),
            speakCurrentWord: document.getElementById('speak-current-word'),
            
            // √ñncelik modu
            priorityMode: document.getElementById('priority-mode'),
            priorityCount: document.getElementById('priority-count'),
            
            // Sƒ±ralama butonlarƒ±
            sortAlphabetical: document.getElementById('sort-alphabetical'),
            sortPriority: document.getElementById('sort-priority'),
            
            // Detay butonlarƒ±
            showSynonyms: document.getElementById('show-synonyms'),
            showAntonyms: document.getElementById('show-antonyms'),
            showExample: document.getElementById('show-example'),
            showEasyParagraph: document.getElementById('show-easy-paragraph'),
            showMediumParagraph: document.getElementById('show-medium-paragraph'),
            showHardParagraph: document.getElementById('show-hard-paragraph'),
            
            // ƒ∞√ßerik g√∂sterimi
            contentDisplay: document.getElementById('content-display'),
            contentTitle: document.getElementById('content-title'),
            contentBody: document.getElementById('content-body'),
            closeContent: document.getElementById('close-content'),
            
            // ƒ∞statistikler
            totalWords: document.getElementById('total-words'),
            learnedWords: document.getElementById('learned-words'),
            userPoints: document.getElementById('user-points'),
            userLevel: document.getElementById('user-level'),
            
            // Geri sayƒ±m
            examDateDisplay: document.getElementById('exam-date-display'),
            countdownDays: document.getElementById('countdown-days'),
            countdownHours: document.getElementById('countdown-hours'),
            countdownMinutes: document.getElementById('countdown-minutes'),
            
            // Kelime y√∂netimi
            wordList: document.getElementById('word-list'),
            addWordBtn: document.getElementById('add-word-btn'),
            exportJsonBtn: document.getElementById('export-json-btn'),
            importJsonBtn: document.getElementById('json-file-input'),
            
            // YDS tarihi
            examDateInput: document.getElementById('exam-date-input'),
            saveExamDate: document.getElementById('save-exam-date'),
            
            // Rekabet
            competitorsList: document.getElementById('competitors-list'),
            addCompetitorBtn: document.getElementById('add-competitor-btn'),
            
            // Temalar
            themeOptions: document.querySelectorAll('.theme-option'),
            themeToggle: document.getElementById('theme-toggle'),
            
            // Font kontrolleri
            decreaseFont: document.getElementById('decrease-font'),
            increaseFont: document.getElementById('increase-font'),
            
            // Modal elementleri
            wordModal: document.getElementById('word-modal'),
            modalTitle: document.getElementById('modal-title'),
            closeModal: document.getElementById('close-modal'),
            saveWordBtn: document.getElementById('save-word-btn'),
            
            // Word form
            wordEn: document.getElementById('word-en'),
            wordTr: document.getElementById('word-tr'),
            wordTypeSelect: document.getElementById('word-type-select'),
            wordLevelSelect: document.getElementById('word-level-select'),
            wordPriority: document.getElementById('word-priority'),
            wordSynonyms: document.getElementById('word-synonyms'),
            wordAntonyms: document.getElementById('word-antonyms'),
            wordExample: document.getElementById('word-example'),
            easyParagraph: document.getElementById('easy-paragraph'),
            mediumParagraph: document.getElementById('medium-paragraph'),
            hardParagraph: document.getElementById('hard-paragraph'),
            imageUpload: document.getElementById('image-upload'),
            imagePreview: document.getElementById('image-preview'),
            previewImage: document.getElementById('preview-image'),
            
            // Competitor modal
            competitorModal: document.getElementById('competitor-modal'),
            closeCompetitorModal: document.getElementById('close-competitor-modal'),
            competitorName: document.getElementById('competitor-name'),
            competitorPoints: document.getElementById('competitor-points'),
            saveCompetitorBtn: document.getElementById('save-competitor-btn')
        };

        // Uygulama ba≈ülatma
        function initApp() {
            loadFromLocalStorage();
            updateUserStats();
            updateWordList();
            updateCompetitorsList();
            showCurrentWord();
            updateCountdown();
            setupEventListeners();
            setTheme(userState.theme);
            updateFontSize();
            
            // Geri sayƒ±mƒ± ba≈ülat
            startCountdown();
            
            // Rakiplerin puanlarƒ±nƒ± rastgele g√ºncelle (sim√ºlasyon)
            setInterval(updateCompetitorPoints, 30000);
            
            // √ñncelik sayƒ±sƒ±nƒ± g√ºncelle
            updatePriorityCount();
        }

        // Event listener'larƒ± kur
        function setupEventListeners() {
            // Flashcard √ßevirme
            elements.flashcard.addEventListener('click', () => {
                elements.flashcard.querySelector('.flashcard-inner').classList.toggle('is-flipped');
            });

            // Kelime √∂ƒürenildi i≈üaretle
            elements.markLearned.addEventListener('click', markWordAsLearned);

            // Sonraki kelime
            elements.nextCard.addEventListener('click', showNextWord);

            // Seslendirme butonlarƒ±
            elements.speakEnglish.addEventListener('click', speakEnglishWord);
            elements.speakCurrentWord.addEventListener('click', speakCurrentWordFunc);

            // √ñncelik modu
            elements.priorityMode.addEventListener('change', togglePriorityMode);
            
            // Sƒ±ralama butonlarƒ±
            elements.sortAlphabetical.addEventListener('click', () => setSortOrder('alphabetical'));
            elements.sortPriority.addEventListener('click', () => setSortOrder('priority'));

            // Detay butonlarƒ±
            elements.showSynonyms.addEventListener('click', () => showContent('E≈ü Anlamlƒ±lar', getSynonymsContent()));
            elements.showAntonyms.addEventListener('click', () => showContent('Zƒ±t Anlamlƒ±lar', getAntonymsContent()));
            elements.showExample.addEventListener('click', () => showContent('√ñrnek C√ºmle', getExampleContent()));
            elements.showEasyParagraph.addEventListener('click', () => showContent('Kolay Paragraf', getParagraphContent('easyParagraph')));
            elements.showMediumParagraph.addEventListener('click', () => showContent('Orta Paragraf', getParagraphContent('mediumParagraph')));
            elements.showHardParagraph.addEventListener('click', () => showContent('Zor Paragraf', getParagraphContent('hardParagraph')));

            // ƒ∞√ßerik kapatma
            elements.closeContent.addEventListener('click', () => {
                elements.contentDisplay.classList.add('hidden');
            });

            // Kelime y√∂netimi
            elements.addWordBtn.addEventListener('click', () => openWordModal());
            elements.exportJsonBtn.addEventListener('click', exportVocabularyJSON);
            elements.importJsonBtn.addEventListener('change', importVocabularyJSON);
            
            // YDS tarihi
            elements.examDateInput.value = userState.examDate;
            elements.saveExamDate.addEventListener('click', saveExamDate);
            
            // Rekabet
            elements.addCompetitorBtn.addEventListener('click', openCompetitorModal);
            
            // Temalar
            elements.themeOptions.forEach(option => {
                option.addEventListener('click', () => {
                    const theme = option.dataset.theme;
                    setTheme(theme);
                });
            });
            
            elements.themeToggle.addEventListener('click', toggleThemeMenu);
            
            // Font kontrolleri
            elements.decreaseFont.addEventListener('click', decreaseFontSize);
            elements.increaseFont.addEventListener('click', increaseFontSize);
            
            // Modal kontrolleri
            elements.closeModal.addEventListener('click', () => closeWordModal());
            elements.saveWordBtn.addEventListener('click', saveWord);
            
            elements.closeCompetitorModal.addEventListener('click', () => closeCompetitorModal());
            elements.saveCompetitorBtn.addEventListener('click', saveCompetitor);
            
            // Resim y√ºkleme
            elements.imageUpload.addEventListener('change', handleImageUpload);
            
            // Dƒ±≈üarƒ± tƒ±klayarak modal kapatma
            window.addEventListener('click', (e) => {
                if (e.target === elements.wordModal) closeWordModal();
                if (e.target === elements.competitorModal) closeCompetitorModal();
            });
        }

        // Kelimeleri sƒ±rala
        function sortVocabulary() {
            if (userState.sortOrder === 'alphabetical') {
                // Alfabetik sƒ±ralama (A-Z)
                vocabulary.sort((a, b) => a.en.localeCompare(b.en));
                elements.sortAlphabetical.classList.add('ring-2', 'ring-white');
                elements.sortPriority.classList.remove('ring-2', 'ring-white');
            } else {
                // √ñncelik sƒ±ralamasƒ±
                vocabulary.sort((a, b) => {
                    // √ñncelikli olanlar √∂nce
                    if (a.priority && !b.priority) return -1;
                    if (!a.priority && b.priority) return 1;
                    // Aynƒ± √∂ncelik durumunda alfabetik
                    return a.en.localeCompare(b.en);
                });
                elements.sortPriority.classList.add('ring-2', 'ring-white');
                elements.sortAlphabetical.classList.remove('ring-2', 'ring-white');
            }
            
            updateWordList();
        }

        // Sƒ±ralama d√ºzenini ayarla
        function setSortOrder(order) {
            userState.sortOrder = order;
            sortVocabulary();
            saveToLocalStorage();
            
            // Butonlarƒ± g√ºncelle
            if (order === 'alphabetical') {
                elements.sortAlphabetical.innerHTML = '<i class="fas fa-sort-alpha-down"></i> A-Z (Aktif)';
                elements.sortPriority.innerHTML = '<i class="fas fa-star"></i> √ñncelik';
            } else {
                elements.sortAlphabetical.innerHTML = '<i class="fas fa-sort-alpha-down"></i> A-Z';
                elements.sortPriority.innerHTML = '<i class="fas fa-star"></i> √ñncelik (Aktif)';
            }
        }

        // √ñncelik modunu a√ß/kapat
        function togglePriorityMode() {
            userState.priorityMode = elements.priorityMode.checked;
            
            if (userState.priorityMode) {
                // √ñncelik modu aktif
                elements.flashcardContainer.classList.add('priority-mode');
                showNotification('√ñncelik modu aktif: Sadece yƒ±ldƒ±zlƒ± kelimeler g√∂steriliyor', 'info');
                showNextPriorityWord();
            } else {
                // √ñncelik modu kapalƒ±
                elements.flashcardContainer.classList.remove('priority-mode');
                showNotification('√ñncelik modu kapalƒ±: T√ºm kelimeler g√∂steriliyor', 'info');
                showCurrentWord();
            }
            
            saveToLocalStorage();
        }

        // √ñncelikli kelime sayƒ±sƒ±nƒ± g√ºncelle
        function updatePriorityCount() {
            const priorityCount = vocabulary.filter(word => word.priority).length;
            elements.priorityCount.textContent = priorityCount;
        }

        // Bir sonraki √∂ncelikli kelimeyi g√∂ster
        function showNextPriorityWord() {
            if (!userState.priorityMode) return;
            
            const priorityWords = vocabulary.filter(word => word.priority);
            if (priorityWords.length === 0) {
                elements.englishWord.textContent = "√ñncelikli Kelime Yok";
                elements.turkishMeaning.textContent = "L√ºtfen √∂ncelikli kelime ekleyin";
                return;
            }
            
            // Mevcut indeksi g√ºncelle
            const currentWord = vocabulary[userState.currentWordIndex];
            const currentPriorityIndex = priorityWords.findIndex(w => w.id === currentWord?.id);
            
            let nextIndex;
            if (currentPriorityIndex === -1 || currentPriorityIndex === priorityWords.length - 1) {
                nextIndex = 0;
            } else {
                nextIndex = currentPriorityIndex + 1;
            }
            
            // T√ºm kelimeler arasƒ±ndaki indeksi bul
            const nextPriorityWord = priorityWords[nextIndex];
            userState.currentWordIndex = vocabulary.findIndex(w => w.id === nextPriorityWord.id);
            
            elements.flashcard.querySelector('.flashcard-inner').classList.remove('is-flipped');
            showCurrentWord();
            elements.contentDisplay.classList.add('hidden');
        }

        // Mevcut kelimeyi g√∂ster
        function showCurrentWord() {
            if (vocabulary.length === 0) {
                elements.englishWord.textContent = "Kelime Yok";
                elements.turkishMeaning.textContent = "L√ºtfen kelime ekleyin";
                return;
            }

            // √ñncelik modunda sadece √∂ncelikli kelimeleri g√∂ster
            if (userState.priorityMode) {
                const priorityWords = vocabulary.filter(word => word.priority);
                if (priorityWords.length === 0) {
                    elements.englishWord.textContent = "√ñncelikli Kelime Yok";
                    elements.turkishMeaning.textContent = "L√ºtfen √∂ncelikli kelime ekleyin";
                    return;
                }
                
                // Eƒüer mevcut kelime √∂ncelikli deƒüilse, ilk √∂ncelikliyi g√∂ster
                const currentWord = vocabulary[userState.currentWordIndex];
                if (!currentWord || !currentWord.priority) {
                    userState.currentWordIndex = vocabulary.findIndex(w => w.priority);
                }
            }

            const word = vocabulary[userState.currentWordIndex];
            
            // √ñn y√ºz
            elements.englishWord.textContent = word.en;
            elements.currentLevel.textContent = word.level;
            elements.phonetic.textContent = getPhonetic(word.en);
            
            // Resim g√∂sterimi
            if (word.image) {
                elements.wordImage.innerHTML = `<img src="${word.image}" class="w-full h-full object-cover rounded-2xl">`;
            } else {
                elements.wordImage.innerHTML = `<i class="fas fa-image text-4xl text-gray-300 dark:text-slate-500"></i>`;
            }
            
            // Arka y√ºz
            elements.turkishMeaning.textContent = word.tr;
            elements.wordType.textContent = word.type;
            elements.quickInfo.innerHTML = `
                <div class="flex gap-2 mb-2">
                    <span class="difficulty-tag ${getDifficultyClass(word.level)}">${word.level}</span>
                    ${word.priority ? '<span class="priority-badge"><i class="fas fa-star mr-1"></i>√ñncelikli</span>' : ''}
                    ${word.learned ? '<span class="difficulty-tag bg-green-100 text-green-800">‚úì √ñƒürenildi</span>' : ''}
                </div>
                <div>${word.synonyms.slice(0, 2).map(s => `<span class="synonym-tag inline-block mr-1 mb-1">${s}</span>`).join('')}</div>
            `;
        }

        // Sonraki kelimeyi g√∂ster
        function showNextWord() {
            if (vocabulary.length === 0) return;
            
            if (userState.priorityMode) {
                // √ñncelik modunda √∂ncelikli kelimeler arasƒ±nda dola≈ü
                showNextPriorityWord();
            } else {
                // Normal modda t√ºm kelimeler arasƒ±nda dola≈ü
                userState.currentWordIndex = (userState.currentWordIndex + 1) % vocabulary.length;
                elements.flashcard.querySelector('.flashcard-inner').classList.remove('is-flipped');
                showCurrentWord();
                elements.contentDisplay.classList.add('hidden');
            }
        }

        // Kelimeyi √∂ƒürenildi olarak i≈üaretle
        function markWordAsLearned() {
            if (vocabulary.length === 0) return;
            
            const word = vocabulary[userState.currentWordIndex];
            if (!word.learned) {
                word.learned = true;
                word.points = 50;
                userState.points += 50;
                userState.learnedWords++;
                
                // Seviye kontrol√º
                checkLevelUp();
                
                // Rakiplerin puanƒ±nƒ± da g√ºncelle (sim√ºlasyon)
                updateCompetitorPointsRandomly();
                
                updateUserStats();
                updateWordList();
                updateCompetitorsList();
                showCurrentWord();
                
                // Ba≈üarƒ± mesajƒ±
                showNotification(`Tebrikler! "${word.en}" kelimesini √∂ƒürendiniz. +50 puan kazandƒ±nƒ±z!`, 'success');
            }
        }

        // ƒ∞√ßerik g√∂sterimi
        function showContent(title, content) {
            elements.contentTitle.textContent = title;
            elements.contentBody.innerHTML = content;
            elements.contentDisplay.classList.remove('hidden');
            
            // Paragraflarda kelime tooltip'lerini kur
            if (title.includes('Paragraf')) {
                setupWordTooltips();
            }
        }

        // E≈ü anlamlƒ±lar i√ßeriƒüi
        function getSynonymsContent() {
            const word = vocabulary[userState.currentWordIndex];
            return `
                <div class="space-y-3">
                    <p class="text-gray-700 dark:text-gray-300 mb-3">"${word.en}" kelimesinin e≈ü anlamlƒ±larƒ±:</p>
                    ${word.synonyms.map(syn => `
                        <div class="example-box">
                            <div class="font-semibold mb-1 text-gray-800 dark:text-white">${syn}</div>
                            <div class="text-sm text-gray-700 dark:text-gray-400">√ñrnek: The ${syn} of the results showed interesting patterns.</div>
                        </div>
                    `).join('')}
                    <div class="text-xs text-gray-600 dark:text-gray-500 mt-4">
                        <i class="fas fa-lightbulb mr-1"></i> E≈ü anlamlƒ± kelimeleri √∂ƒürenmek YDS'de kelime daƒüarcƒ±ƒüƒ±nƒ±zƒ± geli≈ütirir.
                    </div>
                </div>
            `;
        }

        // Zƒ±t anlamlƒ±lar i√ßeriƒüi
        function getAntonymsContent() {
            const word = vocabulary[userState.currentWordIndex];
            if (!word.antonyms || word.antonyms.length === 0) {
                return '<div class="text-gray-700 dark:text-gray-400 italic">Bu kelime i√ßin zƒ±t anlamlƒ± belirtilmemi≈ü.</div>';
            }
            
            return `
                <div class="space-y-3">
                    <p class="text-gray-700 dark:text-gray-300 mb-3">"${word.en}" kelimesinin zƒ±t anlamlƒ±larƒ±:</p>
                    ${word.antonyms.map(ant => `
                        <div class="example-box">
                            <div class="font-semibold mb-1 text-gray-800 dark:text-white">${ant}</div>
                            <div class="text-sm text-gray-700 dark:text-gray-400">√ñrnek: The ${ant} of elements created a new compound.</div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        // √ñrnek c√ºmle i√ßeriƒüi
        function getExampleContent() {
            const word = vocabulary[userState.currentWordIndex];
            return `
                <div class="example-box">
                    <div class="font-semibold mb-2 text-gray-800 dark:text-white">√ñrnek C√ºmle:</div>
                    <div class="text-lg italic mb-4 text-gray-800 dark:text-gray-200">"${word.example}"</div>
                    <div class="text-sm text-gray-700 dark:text-gray-400">
                        <i class="fas fa-volume-up mr-1"></i>
                        <button onclick="speakText('${word.example.replace(/'/g, "\\'")}', 'en')" class="text-blue-600 hover:text-blue-800 dark:text-blue-400 font-semibold">
                            ƒ∞ngilizce dinle
                        </button>
                        <span class="mx-2">‚Ä¢</span>
                        <button onclick="speakText('${word.tr}', 'tr')" class="text-green-600 hover:text-green-800 dark:text-green-400 font-semibold">
                            T√ºrk√ße dinle
                        </button>
                    </div>
                </div>
            `;
        }

        // Paragraf i√ßeriƒüi
        function getParagraphContent(paragraphType) {
            const word = vocabulary[userState.currentWordIndex];
            const paragraph = word[paragraphType];
            const difficulty = paragraphType.replace('Paragraph', '');
            
            let difficultyText = '';
            switch(difficulty) {
                case 'easy': difficultyText = 'Kolay'; break;
                case 'medium': difficultyText = 'Orta'; break;
                case 'hard': difficultyText = 'Zor'; break;
            }
            
            // Paragraftaki zor kelimeleri i≈üaretle
            let processedParagraph = paragraph;
            if (word.paragraphWords) {
                Object.keys(word.paragraphWords).forEach(hardWord => {
                    const translation = word.paragraphWords[hardWord];
                    const escapedWord = hardWord.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                    processedParagraph = processedParagraph.replace(
                        new RegExp(`\\b${escapedWord}\\b`, 'gi'),
                        `<span class="highlight-word tooltip">${hardWord}<span class="tooltiptext">${translation}</span></span>`
                    );
                });
            }
            
            return `
                <div class="space-y-4">
                    <div class="difficulty-tag ${getDifficultyClass(difficultyText)} inline-block">${difficultyText} Seviye</div>
                    
                    <div class="paragraph-box text-gray-800 dark:text-gray-200">
                        ${processedParagraph}
                    </div>
                    
                    ${word.paragraphWords && Object.keys(word.paragraphWords).length > 0 ? `
                        <div>
                            <div class="font-semibold mb-2 text-gray-800 dark:text-white">Paragraftaki Zor Kelimeler:</div>
                            <div class="grid grid-cols-2 gap-2">
                                ${Object.entries(word.paragraphWords).map(([enWord, trMeaning]) => `
                                    <div class="bg-gray-100 dark:bg-slate-700 px-3 py-2 rounded-lg">
                                        <span class="font-medium text-gray-800 dark:text-white">${enWord}</span>
                                        <span class="text-gray-700 dark:text-gray-400">: ${trMeaning}</span>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    ` : ''}
                    
                    <div class="text-sm text-gray-700 dark:text-gray-400 mt-4">
                        <i class="fas fa-info-circle mr-1"></i> Zor kelimelerin √ºzerine gelerek T√ºrk√ße anlamlarƒ±nƒ± g√∂rebilirsiniz.
                    </div>
                </div>
            `;
        }

        // Paragraftaki kelimeler i√ßin tooltip kurulumu
        function setupWordTooltips() {
            const highlightedWords = elements.contentBody.querySelectorAll('.highlight-word');
            highlightedWords.forEach(word => {
                word.addEventListener('mouseenter', function(e) {
                    const tooltip = this.querySelector('.tooltiptext');
                    const rect = this.getBoundingClientRect();
                    tooltip.style.left = '50%';
                    tooltip.style.transform = 'translateX(-50%)';
                });
            });
        }

        // Kullanƒ±cƒ± istatistiklerini g√ºncelle
        function updateUserStats() {
            userState.totalWords = vocabulary.length;
            userState.learnedWords = vocabulary.filter(word => word.learned).length;
            userState.level = Math.floor(userState.points / 1000) + 1;
            
            elements.totalWords.textContent = userState.totalWords;
            elements.learnedWords.textContent = userState.learnedWords;
            elements.userPoints.textContent = userState.points;
            elements.userLevel.textContent = userState.level;
            
            // Sƒ±ralamayƒ± g√ºncelle
            updateCompetitorsList();
            saveToLocalStorage();
        }

        // Seviye atlama kontrol√º
        function checkLevelUp() {
            const oldLevel = Math.floor((userState.points - 50) / 1000) + 1;
            const newLevel = userState.level;
            
            if (newLevel > oldLevel) {
                showNotification(`üéâ Tebrikler! Seviye ${newLevel}'e y√ºkseldiniz!`, 'success');
            }
        }

        // Kelime listesini g√ºncelle
        function updateWordList() {
            sortVocabulary();
            
            elements.wordList.innerHTML = vocabulary.map(word => `
                <tr class="border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-slate-700/50">
                    <td class="py-3">
                        <div class="font-medium dark:text-white flex items-center gap-2">
                            ${word.en}
                            ${word.priority ? '<i class="fas fa-star text-yellow-500 text-sm"></i>' : ''}
                        </div>
                        <div class="text-xs text-gray-600 dark:text-gray-400">${word.type}</div>
                    </td>
                    <td class="py-3 dark:text-white">${word.tr}</td>
                    <td class="py-3">
                        <div class="flex gap-2">
                            <button onclick="togglePriority(${word.id})" class="star-btn ${word.priority ? 'active' : ''}">
                                <i class="fas fa-star"></i>
                            </button>
                            <button onclick="editWord(${word.id})" class="text-blue-600 hover:text-blue-800 dark:text-blue-400">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button onclick="deleteWord(${word.id})" class="text-red-600 hover:text-red-800 dark:text-red-400">
                                <i class="fas fa-trash"></i>
                            </button>
                            ${word.learned ? '<span class="text-green-600 dark:text-green-400"><i class="fas fa-check"></i></span>' : ''}
                        </div>
                    </td>
                </tr>
            `).join('');
            
            updatePriorityCount();
        }

        // Kelimenin √∂ncelik durumunu deƒüi≈ütir
        function togglePriority(wordId) {
            const word = vocabulary.find(w => w.id === wordId);
            if (word) {
                word.priority = !word.priority;
                updateWordList();
                saveToLocalStorage();
                
                if (word.priority) {
                    showNotification(`"${word.en}" kelimesi √∂ncelikli olarak i≈üaretlendi`, 'info');
                } else {
                    showNotification(`"${word.en}" kelimesinin √∂nceliƒüi kaldƒ±rƒ±ldƒ±`, 'info');
                }
                
                // Eƒüer √∂ncelik modu a√ßƒ±ksa ve bu kelimeyi g√∂steriyorsak, g√ºncelle
                if (userState.priorityMode && userState.currentWordIndex === vocabulary.findIndex(w => w.id === wordId)) {
                    if (!word.priority) {
                        // Eƒüer √∂ncelik kaldƒ±rƒ±ldƒ±ysa bir sonraki √∂ncelikli kelimeye ge√ß
                        showNextPriorityWord();
                    }
                }
            }
        }

        // Rakipler listesini g√ºncelle
        function updateCompetitorsList() {
            // T√ºm oyuncularƒ± birle≈ütir ve sƒ±rala
            const allPlayers = [
                {
                    id: 0,
                    name: userState.name,
                    points: userState.points,
                    level: userState.level,
                    isUser: true,
                    avatar: "üë§"
                },
                ...competitors
            ].sort((a, b) => b.points - a.points);
            
            // Sƒ±ralamayƒ± belirle
            allPlayers.forEach((player, index) => {
                player.rank = index + 1;
            });
            
            elements.competitorsList.innerHTML = allPlayers.map(player => {
                const rankClass = player.rank === 1 ? 'competitor-rank-1' : 
                                player.rank === 2 ? 'competitor-rank-2' : 
                                player.rank === 3 ? 'competitor-rank-3' : '';
                
                return `
                    <div class="competitor-card glass-card dark:bg-slate-800/95 rounded-2xl p-4 ${player.isUser ? 'user-card' : rankClass}">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-3">
                                <div class="text-2xl">${player.avatar}</div>
                                <div>
                                    <div class="font-bold dark:text-white">${player.name} ${player.isUser ? '(Siz)' : ''}</div>
                                    <div class="text-sm text-gray-700 dark:text-gray-400">Seviye ${player.level}</div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="font-bold text-lg ${player.rank <= 3 ? 'text-yellow-600 dark:text-yellow-400' : 'text-gray-800 dark:text-white'}">
                                    ${player.points} Puan
                                </div>
                                <div class="text-xs ${player.rank <= 3 ? 'text-yellow-700 dark:text-yellow-500' : 'text-gray-700 dark:text-gray-400'}">
                                    #${player.rank}
                                </div>
                            </div>
                        </div>
                        ${!player.isUser && player.lastActive ? `
                            <div class="text-xs text-gray-600 dark:text-gray-500 mt-2">
                                <i class="fas fa-clock mr-1"></i> ${player.lastActive}
                            </div>
                        ` : ''}
                    </div>
                `;
            }).join('');
        }

        // Rakip puanlarƒ±nƒ± rastgele g√ºncelle (sim√ºlasyon)
        function updateCompetitorPoints() {
            competitors.forEach(competitor => {
                if (competitor.isVirtual) {
                    // Rastgele puan deƒüi≈üimi (-50 ile +150 arasƒ±)
                    const change = Math.floor(Math.random() * 200) - 50;
                    competitor.points = Math.max(0, competitor.points + change);
                    competitor.level = Math.floor(competitor.points / 1000) + 1;
                    
                    // Son aktif zamanƒ±nƒ± g√ºncelle
                    const times = ['5 dakika √∂nce', '15 dakika √∂nce', '1 saat √∂nce', '2 saat √∂nce', '1 g√ºn √∂nce'];
                    competitor.lastActive = times[Math.floor(Math.random() * times.length)];
                }
            });
            
            updateCompetitorsList();
        }

        // Rakiplerin puanƒ±nƒ± rastgele g√ºncelle (kullanƒ±cƒ± puan kazandƒ±ƒüƒ±nda)
        function updateCompetitorPointsRandomly() {
            competitors.forEach(competitor => {
                if (competitor.isVirtual && Math.random() > 0.5) {
                    // Bazƒ± rakipler de puan kazansƒ±n
                    const change = Math.floor(Math.random() * 100) + 10;
                    competitor.points += change;
                    competitor.level = Math.floor(competitor.points / 1000) + 1;
                }
            });
        }

        // Geri sayƒ±mƒ± g√ºncelle
        function updateCountdown() {
            const now = new Date();
            const examDate = new Date(userState.examDate + 'T00:00:00');
            const timeDiff = examDate - now;
            
            if (timeDiff > 0) {
                const days = Math.floor(timeDiff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((timeDiff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
                
                elements.countdownDays.textContent = days.toString().padStart(2, '0');
                elements.countdownHours.textContent = hours.toString().padStart(2, '0');
                elements.countdownMinutes.textContent = minutes.toString().padStart(2, '0');
                elements.examDateDisplay.textContent = userState.examDate;
            } else {
                elements.countdownDays.textContent = '00';
                elements.countdownHours.textContent = '00';
                elements.countdownMinutes.textContent = '00';
            }
        }

        // Geri sayƒ±mƒ± ba≈ülat
        function startCountdown() {
            updateCountdown();
            setInterval(updateCountdown, 60000); // Her dakika g√ºncelle
        }

        // YDS tarihini kaydet
        function saveExamDate() {
            const newDate = elements.examDateInput.value;
            if (newDate) {
                userState.examDate = newDate;
                updateCountdown();
                showNotification('YDS tarihi g√ºncellendi!', 'success');
                saveToLocalStorage();
            }
        }

        // Tema ayarla
        function setTheme(theme) {
            userState.theme = theme;
            document.body.className = `theme-${theme} min-h-screen p-4 transition-all duration-300`;
            
            // Aktif tema butonunu vurgula
            elements.themeOptions.forEach(option => {
                if (option.dataset.theme === theme) {
                    option.classList.add('ring-2', 'ring-white', 'ring-opacity-50');
                } else {
                    option.classList.remove('ring-2', 'ring-white', 'ring-opacity-50');
                }
            });
            
            saveToLocalStorage();
        }

        // Tema men√ºs√ºn√º a√ß/kapat
        function toggleThemeMenu() {
            const themeSelector = document.querySelector('.theme-selector');
            const currentDisplay = themeSelector.style.display;
            themeSelector.style.display = currentDisplay === 'none' ? 'block' : 'none';
        }

        // Font boyutunu azalt
        function decreaseFontSize() {
            if (userState.fontSize > 12) {
                userState.fontSize -= 1;
                updateFontSize();
            }
        }

        // Font boyutunu artƒ±r
        function increaseFontSize() {
            if (userState.fontSize < 24) {
                userState.fontSize += 1;
                updateFontSize();
            }
        }

        // Font boyutunu g√ºncelle
        function updateFontSize() {
            document.documentElement.style.fontSize = `${userState.fontSize}px`;
            saveToLocalStorage();
        }

        // Kelime modalƒ±nƒ± a√ß
        function openWordModal(wordId = null) {
            elements.modalTitle.textContent = wordId ? 'Kelime D√ºzenle' : 'Yeni Kelime Ekle';
            elements.wordModal.classList.remove('hidden');
            
            if (wordId) {
                const word = vocabulary.find(w => w.id === wordId);
                if (word) {
                    elements.wordEn.value = word.en;
                    elements.wordTr.value = word.tr;
                    elements.wordTypeSelect.value = word.type;
                    elements.wordLevelSelect.value = word.level;
                    elements.wordPriority.checked = word.priority || false;
                    elements.wordSynonyms.value = Array.isArray(word.synonyms) ? word.synonyms.join(', ') : word.synonyms || '';
                    elements.wordAntonyms.value = Array.isArray(word.antonyms) ? word.antonyms.join(', ') : word.antonyms || '';
                    elements.wordExample.value = word.example || '';
                    elements.easyParagraph.value = word.easyParagraph || '';
                    elements.mediumParagraph.value = word.mediumParagraph || '';
                    elements.hardParagraph.value = word.hardParagraph || '';
                    
                    if (word.image) {
                        elements.imagePreview.classList.remove('hidden');
                        elements.previewImage.src = word.image;
                    }
                    
                    userState.editingWordId = wordId;
                }
            } else {
                resetWordForm();
            }
        }

        // Kelime formunu sƒ±fƒ±rla
        function resetWordForm() {
            elements.wordEn.value = '';
            elements.wordTr.value = '';
            elements.wordTypeSelect.value = 'Noun';
            elements.wordLevelSelect.value = 'Intermediate';
            elements.wordPriority.checked = false;
            elements.wordSynonyms.value = '';
            elements.wordAntonyms.value = '';
            elements.wordExample.value = '';
            elements.easyParagraph.value = '';
            elements.mediumParagraph.value = '';
            elements.hardParagraph.value = '';
            elements.imagePreview.classList.add('hidden');
            elements.previewImage.src = '';
            elements.imageUpload.value = '';
            userState.editingWordId = null;
        }

        // Kelime modalƒ±nƒ± kapat
        function closeWordModal() {
            elements.wordModal.classList.add('hidden');
            resetWordForm();
        }

        // Rakip modalƒ±nƒ± a√ß
        function openCompetitorModal() {
            elements.competitorModal.classList.remove('hidden');
        }

        // Rakip modalƒ±nƒ± kapat
        function closeCompetitorModal() {
            elements.competitorModal.classList.add('hidden');
            elements.competitorName.value = '';
            elements.competitorPoints.value = '1000';
        }

        // Kelime kaydet
        function saveWord() {
            if (!elements.wordEn.value.trim() || !elements.wordTr.value.trim()) {
                showNotification('ƒ∞ngilizce ve T√ºrk√ße kelime alanlarƒ± zorunludur!', 'error');
                return;
            }

            const wordData = {
                id: userState.editingWordId || Date.now(),
                en: elements.wordEn.value.trim(),
                tr: elements.wordTr.value.trim(),
                type: elements.wordTypeSelect.value,
                level: elements.wordLevelSelect.value,
                priority: elements.wordPriority.checked,
                synonyms: elements.wordSynonyms.value.split(',').map(s => s.trim()).filter(s => s),
                antonyms: elements.wordAntonyms.value.split(',').map(s => s.trim()).filter(s => s),
                example: elements.wordExample.value.trim(),
                easyParagraph: elements.easyParagraph.value.trim(),
                mediumParagraph: elements.mediumParagraph.value.trim(),
                hardParagraph: elements.hardParagraph.value.trim(),
                image: elements.previewImage.src || '',
                learned: false,
                points: 0
            };

            // Paragraf kelimelerini otomatik olu≈ütur
            wordData.paragraphWords = extractHardWords(wordData.hardParagraph);

            if (userState.editingWordId) {
                const index = vocabulary.findIndex(w => w.id === userState.editingWordId);
                if (index !== -1) {
                    vocabulary[index] = { ...vocabulary[index], ...wordData };
                }
            } else {
                vocabulary.push(wordData);
            }

            updateUserStats();
            updateWordList();
            
            if (vocabulary.length === 1) {
                showCurrentWord();
            }
            
            closeWordModal();
            showNotification(`"${wordData.en}" kelimesi ba≈üarƒ±yla kaydedildi!`, 'success');
        }

        // Rakip kaydet
        function saveCompetitor() {
            const name = elements.competitorName.value.trim();
            const points = parseInt(elements.competitorPoints.value) || 1000;
            
            if (!name) {
                showNotification('Rakip ismi giriniz!', 'error');
                return;
            }
            
            const newCompetitor = {
                id: Date.now(),
                name: name,
                points: points,
                level: Math.floor(points / 1000) + 1,
                isVirtual: false,
                avatar: "üë§",
                lastActive: "≈ûimdi"
            };
            
            competitors.push(newCompetitor);
            updateCompetitorsList();
            closeCompetitorModal();
            showNotification(`${name} rakip olarak eklendi!`, 'success');
            saveToLocalStorage();
        }

        // Kelime d√ºzenle
        function editWord(id) {
            openWordModal(id);
        }

        // Kelime sil
        function deleteWord(id) {
            if (confirm('Bu kelimeyi silmek istediƒüinize emin misiniz?')) {
                const index = vocabulary.findIndex(w => w.id === id);
                if (index !== -1) {
                    const word = vocabulary[index];
                    
                    // √ñƒürenilmi≈üse puanƒ± d√º≈ü
                    if (word.learned) {
                        userState.points = Math.max(0, userState.points - 50);
                        userState.learnedWords = Math.max(0, userState.learnedWords - 1);
                    }
                    
                    vocabulary.splice(index, 1);
                    
                    // G√ºncel kelime indeksini ayarla
                    if (userState.currentWordIndex >= vocabulary.length) {
                        userState.currentWordIndex = Math.max(0, vocabulary.length - 1);
                    }
                    
                    updateUserStats();
                    updateWordList();
                    showCurrentWord();
                    showNotification(`"${word.en}" kelimesi silindi.`, 'info');
                }
            }
        }

        // JSON olarak dƒ±≈üa aktar
        function exportVocabularyJSON() {
            const data = {
                vocabulary: vocabulary,
                userState: userState,
                competitors: competitors,
                exportDate: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `yds_kelimeler_${new Date().toISOString().slice(0, 10)}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showNotification('Kelimeler JSON formatƒ±nda dƒ±≈üa aktarƒ±ldƒ±!', 'success');
        }

        // JSON'dan i√ße aktar
        function importVocabularyJSON(event) {
            const file = event.target.files[0];
            if (!file) return;

            if (!confirm('Mevcut t√ºm verilerin √ºzerine yazƒ±lacak. Devam etmek istiyor musunuz?')) {
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const data = JSON.parse(e.target.result);
                    
                    if (data.vocabulary) {
                        vocabulary = data.vocabulary;
                    }
                    if (data.userState) {
                        userState = data.userState;
                    }
                    if (data.competitors) {
                        competitors = data.competitors;
                    }
                    
                    updateUserStats();
                    updateWordList();
                    updateCompetitorsList();
                    showCurrentWord();
                    updateCountdown();
                    setTheme(userState.theme);
                    updateFontSize();
                    
                    showNotification('Veriler ba≈üarƒ±yla i√ße aktarƒ±ldƒ±!', 'success');
                } catch (error) {
                    showNotification('Dosya okunurken hata olu≈ütu!', 'error');
                    console.error(error);
                }
            };
            reader.readAsText(file);
            
            event.target.value = '';
        }

        // Resim y√ºkleme i≈ülemi
        function handleImageUpload(event) {
            const file = event.target.files[0];
            if (!file) return;

            if (file.size > 2 * 1024 * 1024) {
                showNotification('Resim boyutu 2MB\'dan k√º√ß√ºk olmalƒ±dƒ±r!', 'error');
                return;
            }

            if (!file.type.match('image.*')) {
                showNotification('L√ºtfen sadece resim dosyasƒ± y√ºkleyin!', 'error');
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                elements.imagePreview.classList.remove('hidden');
                elements.previewImage.src = e.target.result;
            };
            reader.readAsDataURL(file);
        }

        // Zor paragraftan kelimeleri √ßƒ±kar
        function extractHardWords(paragraph) {
            if (!paragraph) return {};
            
            const hardWords = {};
            const words = paragraph.split(/\s+/);
            const longWords = words.filter(word => {
                const cleanWord = word.replace(/[^a-zA-Z]/g, '');
                return cleanWord.length > 10 && !hardWords[cleanWord.toLowerCase()];
            });
            
            // √ñrnek √ßeviriler (ger√ßek uygulamada bir API kullanƒ±lmalƒ±)
            const sampleTranslations = {
                "comprehensive": "kapsamlƒ±",
                "sophisticated": "sofistike",
                "methodologies": "y√∂ntemler",
                "scrutiny": "inceleme",
                "multifaceted": "√ßok y√∂nl√º",
                "groundbreaking": "√ßƒ±ƒüƒ±r a√ßan",
                "interplay": "etkile≈üim",
                "phenomenon": "olgusal",
                "ostensibly": "g√∂r√ºn√º≈üte",
                "negligible": "√∂nemsiz",
                "fluctuations": "dalgalanmalar",
                "repercussions": "etkiler",
                "equilibrium": "denge",
                "fiscal": "mali"
            };
            
            longWords.forEach(word => {
                const cleanWord = word.replace(/[^a-zA-Z]/g, '');
                if (sampleTranslations[cleanWord.toLowerCase()]) {
                    hardWords[cleanWord] = sampleTranslations[cleanWord.toLowerCase()];
                }
            });
            
            return hardWords;
        }

        // Zorluk seviyesine g√∂re CSS sƒ±nƒ±fƒ±
        function getDifficultyClass(level) {
            switch(level) {
                case 'Easy': return 'easy-tag';
                case 'Intermediate': return 'medium-tag';
                case 'Advanced': return 'hard-tag';
                default: return 'medium-tag';
            }
        }

        // Basit fonetik g√∂sterim
        function getPhonetic(word) {
            const phonetics = {
                'analysis': '/…ôÀàn√¶l…ôs…™s/',
                'significant': '/s…™…°Ààn…™f…™k…ônt/',
                'concept': '/Ààk…ínsept/',
                'develop': '/d…™Ààvel…ôp/',
                'education': '/Àåed íuÀàke…™ É…ôn/',
                'important': '/…™mÀàp…îÀêrtnt/',
                'knowledge': '/Ààn…íl…™d í/',
                'language': '/Ààl√¶≈ã…°w…™d í/',
                'practice': '/Ààpr√¶kt…™s/',
                'vocabulary': '/v…ôÀàk√¶bj…ôleri/'
            };
            
            return phonetics[word.toLowerCase()] || '/Ààw…úÀêd/';
        }

        // ƒ∞ngilizce kelimeyi seslendir
        function speakEnglishWord() {
            const word = vocabulary[userState.currentWordIndex];
            if (word) {
                speakText(word.en, 'en');
            }
        }

        // Mevcut kelimeyi seslendir
        function speakCurrentWordFunc() {
            const word = vocabulary[userState.currentWordIndex];
            if (word) {
                const isFlipped = elements.flashcard.querySelector('.flashcard-inner').classList.contains('is-flipped');
                if (isFlipped) {
                    speakText(word.tr, 'tr');
                } else {
                    speakText(word.en, 'en');
                }
            }
        }

        // Metni seslendir
        function speakText(text, lang) {
            if ('speechSynthesis' in window) {
                // Mevcut konu≈ümayƒ± durdur
                window.speechSynthesis.cancel();
                
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = lang === 'en' ? 'en-US' : 'tr-TR';
                utterance.rate = 0.8;
                utterance.volume = 1;
                
                // Dil'e g√∂re ses se√ß
                const voices = window.speechSynthesis.getVoices();
                let voice;
                
                if (lang === 'en') {
                    voice = voices.find(v => v.lang.startsWith('en') && v.name.includes('English'));
                } else {
                    voice = voices.find(v => v.lang.startsWith('tr') || v.lang.startsWith('tr-TR'));
                }
                
                if (voice) {
                    utterance.voice = voice;
                }
                
                window.speechSynthesis.speak(utterance);
            } else {
                showNotification('Tarayƒ±cƒ±nƒ±z metin okuma √∂zelliƒüini desteklemiyor.', 'error');
            }
        }

        // Bildirim g√∂ster
        function showNotification(message, type = 'info') {
            // √ñnceki bildirimleri temizle
            const existingNotifications = document.querySelectorAll('.notification');
            existingNotifications.forEach(notif => notif.remove());
            
            const notification = document.createElement('div');
            notification.className = `notification ${
                type === 'success' ? 'bg-green-500' : 
                type === 'error' ? 'bg-red-500' : 
                type === 'warning' ? 'bg-yellow-500' : 
                'bg-blue-500'
            } text-white`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translateY(-20px)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        // Local storage'a kaydet
        function saveToLocalStorage() {
            const data = {
                vocabulary: vocabulary,
                userState: userState,
                competitors: competitors
            };
            localStorage.setItem('ydsFlashcardsPro', JSON.stringify(data));
        }

        // Local storage'dan y√ºkle
        function loadFromLocalStorage() {
            const saved = localStorage.getItem('ydsFlashcardsPro');
            if (saved) {
                try {
                    const data = JSON.parse(saved);
                    vocabulary = data.vocabulary || vocabulary;
                    userState = data.userState || userState;
                    competitors = data.competitors || competitors;
                    
                    // √ñncelik modu checkbox'ƒ±nƒ± g√ºncelle
                    if (elements.priorityMode) {
                        elements.priorityMode.checked = userState.priorityMode || false;
                    }
                } catch (e) {
                    console.error('Local storage verisi okunamadƒ±:', e);
                }
            }
        }

        // Uygulama ba≈ülat
        window.onload = function() {
            initApp();
            
            // SpeechSynthesis seslerini y√ºkle
            if ('speechSynthesis' in window) {
                window.speechSynthesis.getVoices();
            }
        };

        // Global fonksiyonlar
        window.editWord = editWord;
        window.deleteWord = deleteWord;
        window.togglePriority = togglePriority;
        window.speakText = speakText;
    </script>
</body>
</html>